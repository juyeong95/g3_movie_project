<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.care.root.mybatis.qnaBoard.QnaBoardMapper">

<resultMap id="board"
		type="com.care.root.qnaBoard.dto.QnaBoardDTO">
		<id property="id" column="id" />
		<result property="num" column="num" />
		<result property="title" column="title" />
		<result property="content" column="content" />
		<result property="requset" column="requset" />
		<result property="days" column="days" />
		<result property="hit" column="hit" />
</resultMap>

<select id="boardAllList" resultMap="board">
	select * from q_board
</select>
 
<select id="boardList" resultMap="board">
select B.* from(select rownum rn, A.* from
		(select * from q_board order by num desc)A)B where rn between #{s} and #{e}
</select>
<insert id="writeSave" >
	insert into q_board(num,id,title,content)
	values(q_board_seq.nextval,#{id},#{title},#{content})
</insert>

<select id="selectBoardCount" resultType="Integer">
		select count(*) from q_board
</select>

<update id="upHit">
		update q_board set hit = hit + 1 where num = #{num}
</update>	

<select id="contentView" resultMap="board">
		select * from q_board where num = #{num}
</select>

<update id="modifysave">
	update q_board set title=#{title}, content=#{content}, id=#{id}
	    where num=#{num}
</update>
</mapper>